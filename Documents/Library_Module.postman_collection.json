{
	"info": {
		"_postman_id": "6ec274bb-fd7e-41b7-983f-1db408f28da6",
		"name": "Library_Module",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"item": [
		{
			"name": "InitData",
			"item": [
				{
					"name": "New user",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "de7127d6-140c-4026-b722-a25e378e909b",
								"exec": [
									"tests[\"Status code is 200\"] = responseCode.code === 200;",
									"var data = JSON.parse(responseBody);",
									"",
									"postman.setEnvironmentVariable(\"bearToken\", data[\"token\"]);"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "\n{\n\"email\": \"phongdvse61654@fpt.edu.vn\",\n\"password\": \"123\",\n\"fullName\":\"PhongABC\"\n}"
						},
						"url": {
							"raw": "{{http}}://{{hostname}}/{{path}}/auth/new",
							"protocol": "{{http}}",
							"host": [
								"{{hostname}}"
							],
							"path": [
								"{{path}}",
								"auth",
								"new"
							]
						}
					},
					"response": []
				},
				{
					"name": "Login",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "de7127d6-140c-4026-b722-a25e378e909b",
								"exec": [
									"tests[\"Status code is 200\"] = responseCode.code === 200;",
									"var data = JSON.parse(responseBody);",
									"",
									"postman.setEnvironmentVariable(\"bearToken\", data[\"token\"]);"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "\n{\n\"email\": \"phongdvse61654@fpt.edu.vn\",\n\"password\": \"123\"\n}"
						},
						"url": {
							"raw": "{{http}}://{{hostname}}/{{path}}/auth/login",
							"protocol": "{{http}}",
							"host": [
								"{{hostname}}"
							],
							"path": [
								"{{path}}",
								"auth",
								"login"
							]
						}
					},
					"response": []
				},
				{
					"name": "In it book Data",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{bearToken}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{}"
						},
						"url": {
							"raw": "{{http}}://{{hostname}}/{{path}}/simulate_datas/init",
							"protocol": "{{http}}",
							"host": [
								"{{hostname}}"
							],
							"path": [
								"{{path}}",
								"simulate_datas",
								"init"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "USER 2",
			"item": [
				{
					"name": "New user",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "de7127d6-140c-4026-b722-a25e378e909b",
								"exec": [
									"tests[\"Status code is 200\"] = responseCode.code === 200;",
									"var data = JSON.parse(responseBody);",
									"",
									"postman.setEnvironmentVariable(\"bearToken\", data[\"token\"]);"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "\n{\n\"email\": \"user2@fpt.edu.vn\",\n\"password\": \"123\",\n\"fullName\":\"USER2\"\n}"
						},
						"url": {
							"raw": "{{http}}://{{hostname}}/{{path}}/auth/new",
							"protocol": "{{http}}",
							"host": [
								"{{hostname}}"
							],
							"path": [
								"{{path}}",
								"auth",
								"new"
							]
						}
					},
					"response": []
				},
				{
					"name": "Login",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "de7127d6-140c-4026-b722-a25e378e909b",
								"exec": [
									"tests[\"Status code is 200\"] = responseCode.code === 200;",
									"var data = JSON.parse(responseBody);",
									"",
									"postman.setEnvironmentVariable(\"bearToken\", data[\"token\"]);"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "\n{\n\"email\": \"user2@fpt.edu.vn\",\n\"password\": \"123\"\n}"
						},
						"url": {
							"raw": "{{http}}://{{hostname}}/{{path}}/auth/login",
							"protocol": "{{http}}",
							"host": [
								"{{hostname}}"
							],
							"path": [
								"{{path}}",
								"auth",
								"login"
							]
						}
					},
					"response": []
				},
				{
					"name": "In it book Data",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{bearToken}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{}"
						},
						"url": {
							"raw": "{{http}}://{{hostname}}/{{path}}/simulate_datas/init",
							"protocol": "{{http}}",
							"host": [
								"{{hostname}}"
							],
							"path": [
								"{{path}}",
								"simulate_datas",
								"init"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "BookDetail",
			"item": [
				{
					"name": "Get booklist list",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "cedb9b08-7766-4429-8b51-6a5b7f091a31",
								"exec": [
									"tests[\"Status code is 200\"] = responseCode.code === 200;",
									"var data = JSON.parse(responseBody);",
									"",
									"postman.setEnvironmentVariable(\"bookdetail-id\", data[0].id);"
								],
								"type": "text/javascript"
							}
						}
					],
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{bearToken}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{http}}://{{hostname}}/{{path}}/{{bookdetails}}",
							"protocol": "{{http}}",
							"host": [
								"{{hostname}}"
							],
							"path": [
								"{{path}}",
								"{{bookdetails}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "Create a book details",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{bearToken}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"value": "application/json",
								"type": "text"
							},
							{
								"warning": "This is a duplicate header and will be overridden by the Authorization header generated by Postman.",
								"key": "Authorization",
								"value": "Bear [{{bearToken}}]",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\"book_name\":\"think in java\",\n\t\n\t\"type\":1\n\t\n}"
						},
						"url": {
							"raw": "{{http}}://{{hostname}}/{{path}}/requests/create",
							"protocol": "{{http}}",
							"host": [
								"{{hostname}}"
							],
							"path": [
								"{{path}}",
								"requests",
								"create"
							]
						}
					},
					"response": []
				},
				{
					"name": "Update a Book Detail",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "a5549587-ab52-4277-abd3-cd6319fbde05",
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{bearToken}}",
									"type": "string"
								}
							]
						},
						"method": "PATCH",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							},
							{
								"key": "Authorization",
								"value": "Bear [{{bearToken}}]",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\"name\":\"think in java SCRIPT\"}"
						},
						"url": {
							"raw": "{{http}}://{{hostname}}/{{path}}/{{bookdetails}}/{{bookdetail-id}}",
							"protocol": "{{http}}",
							"host": [
								"{{hostname}}"
							],
							"path": [
								"{{path}}",
								"{{bookdetails}}",
								"{{bookdetail-id}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "Delete a bookDetail",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "a28de503-ae7f-403f-8ed1-6ad672916aad",
								"exec": [
									"{",
									"     \"name\": \"think in javaSCript\"",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{bearToken}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\"name\":\"think in java\"}"
						},
						"url": {
							"raw": "{{http}}://{{hostname}}/{{path}}/users/1",
							"protocol": "{{http}}",
							"host": [
								"{{hostname}}"
							],
							"path": [
								"{{path}}",
								"users",
								"1"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Book",
			"item": [
				{
					"name": "SearchBookByName",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "a28de503-ae7f-403f-8ed1-6ad672916aad",
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJwaG9uZ2R2MTIzIiwiZXhwIjoxNTYwMTQxMDAyfQ.Nn_-GSbEqvygBdA5nkMVapTPDgeRIrvqI01Flm_s6M2mmF9ToLetiaLpHLiPxJWgslI3xbaUN9zwPHZ1khKUYg",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\"name\":\"think in java\"}"
						},
						"url": {
							"raw": "{{http}}://{{hostname}}/{{path}}/{{bookdetails}}/search?name=JAVA",
							"protocol": "{{http}}",
							"host": [
								"{{hostname}}"
							],
							"path": [
								"{{path}}",
								"{{bookdetails}}",
								"search"
							],
							"query": [
								{
									"key": "name",
									"value": "JAVA"
								}
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "BorrowBookFlow",
			"item": [
				{
					"name": "Get current Keep Book",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "46ed83bd-c8da-4b91-b7b7-e42ca68e1fa2",
								"exec": [
									"tests[\"Status code is 200\"] = responseCode.code === 200;",
									"var data = JSON.parse(responseBody);",
									"console.log(data.length);",
									"",
									"for (var i =0;i<data.length;i++){",
									"  pm.environment.unset(\"book-\"+i);",
									"}",
									"for (var i =0;i<data.length;i++){",
									"pm.environment.set(\"book-\"+i+\"-id\",  data[i][\"id\"]);",
									"pm.environment.set(\"book-\"+i+\"-id\",  data[i][\"bookDetail\"][\"name\"]);   ",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{bearToken}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"type\": 1,\n    \"book_name\": \"SPRING\"\n}"
						},
						"url": {
							"raw": "{{http}}://{{hostname}}/{{path}}/users/current_books",
							"protocol": "{{http}}",
							"host": [
								"{{hostname}}"
							],
							"path": [
								"{{path}}",
								"users",
								"current_books"
							]
						}
					},
					"response": []
				},
				{
					"name": "Create borrow Request",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{bearToken}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"type\": 1,\n    \"book_name\": \"{{book-1-Name}}\"\n}"
						},
						"url": {
							"raw": "{{http}}://{{hostname}}/{{path}}/requests/create",
							"protocol": "{{http}}",
							"host": [
								"{{hostname}}"
							],
							"path": [
								"{{path}}",
								"requests",
								"create"
							]
						}
					},
					"response": []
				},
				{
					"name": "Create borrow Request",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{bearToken}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"type\": 1,\n    \"book_name\": \"{{book-2-Name}}\"\n\n}"
						},
						"url": {
							"raw": "{{http}}://{{hostname}}/{{path}}/requests/create",
							"protocol": "{{http}}",
							"host": [
								"{{hostname}}"
							],
							"path": [
								"{{path}}",
								"requests",
								"create"
							]
						}
					},
					"response": []
				},
				{
					"name": "Create borrow Request",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{bearToken}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"type\": 1,\n    \"book_name\": \"{{book-3-Name}}\"\n}"
						},
						"url": {
							"raw": "{{http}}://{{hostname}}/{{path}}/requests/create",
							"protocol": "{{http}}",
							"host": [
								"{{hostname}}"
							],
							"path": [
								"{{path}}",
								"requests",
								"create"
							]
						}
					},
					"response": []
				},
				{
					"name": "Create borrow Request",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJuZ3VvaU11b25BQkMiLCJleHAiOjE1NTk3NTc4OTd9.IkQV8z0wNBo-spPE1TjWAal3ihWqOwdKte4-NdF1UQnuZ6RuTzSiH-dO7yJjAfiQ76uA8J-YavBSZQQCmCqF6Q",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"type\": 1,\n    \"book_name\": \"{{book-4-Name}}\"\n}"
						},
						"url": {
							"raw": "{{http}}://{{hostname}}/{{path}}/requests/create",
							"protocol": "{{http}}",
							"host": [
								"{{hostname}}"
							],
							"path": [
								"{{path}}",
								"requests",
								"create"
							]
						}
					},
					"response": []
				},
				{
					"name": "Create Return Request",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJuZ3VvaU11b25BQkMiLCJleHAiOjE1NTk3NTc4OTd9.IkQV8z0wNBo-spPE1TjWAal3ihWqOwdKte4-NdF1UQnuZ6RuTzSiH-dO7yJjAfiQ76uA8J-YavBSZQQCmCqF6Q",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"type\": 2,\n    \"book_id\": {{book-1-id}}\n}"
						},
						"url": {
							"raw": "{{http}}://{{hostname}}/{{path}}/requests/create",
							"protocol": "{{http}}",
							"host": [
								"{{hostname}}"
							],
							"path": [
								"{{path}}",
								"requests",
								"create"
							]
						}
					},
					"response": []
				},
				{
					"name": "Create Return Request",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJuZ3VvaU11b25BQkMiLCJleHAiOjE1NTk3NTc4OTd9.IkQV8z0wNBo-spPE1TjWAal3ihWqOwdKte4-NdF1UQnuZ6RuTzSiH-dO7yJjAfiQ76uA8J-YavBSZQQCmCqF6Q",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"type\": 2,\n    \"book_id\":{{book-2-id}}\n}"
						},
						"url": {
							"raw": "{{http}}://{{hostname}}/{{path}}/requests/create",
							"protocol": "{{http}}",
							"host": [
								"{{hostname}}"
							],
							"path": [
								"{{path}}",
								"requests",
								"create"
							]
						}
					},
					"response": []
				},
				{
					"name": "Create Return Request",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJuZ3VvaU11b25BQkMiLCJleHAiOjE1NTk3NTc4OTd9.IkQV8z0wNBo-spPE1TjWAal3ihWqOwdKte4-NdF1UQnuZ6RuTzSiH-dO7yJjAfiQ76uA8J-YavBSZQQCmCqF6Q",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"type\": 2,\n    \"book_id\": {{book-3-id}}\n}"
						},
						"url": {
							"raw": "{{http}}://{{hostname}}/{{path}}/requests/create",
							"protocol": "{{http}}",
							"host": [
								"{{hostname}}"
							],
							"path": [
								"{{path}}",
								"requests",
								"create"
							]
						}
					},
					"response": []
				},
				{
					"name": "Create Return Request",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJuZ3VvaU11b25BQkMiLCJleHAiOjE1NTk3NTc4OTd9.IkQV8z0wNBo-spPE1TjWAal3ihWqOwdKte4-NdF1UQnuZ6RuTzSiH-dO7yJjAfiQ76uA8J-YavBSZQQCmCqF6Q",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"type\": 2,\n    \"book_id\": {{book-4-id}}\n}"
						},
						"url": {
							"raw": "{{http}}://{{hostname}}/{{path}}/requests/create",
							"protocol": "{{http}}",
							"host": [
								"{{hostname}}"
							],
							"path": [
								"{{path}}",
								"requests",
								"create"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Request",
			"item": [
				{
					"name": "Get list of borrow request",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{bearToken}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{http}}://{{hostname}}/{{path}}/requests/get_list?type=1",
							"protocol": "{{http}}",
							"host": [
								"{{hostname}}"
							],
							"path": [
								"{{path}}",
								"requests",
								"get_list"
							],
							"query": [
								{
									"key": "type",
									"value": "1"
								}
							]
						}
					},
					"response": []
				}
			]
		}
	]
}